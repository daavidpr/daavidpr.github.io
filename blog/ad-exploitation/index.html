<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iHarzz - Escalada en Active Directory | Pentesting Avanzado</title>
    <link rel="stylesheet" href="../../css/style.css">
    <link rel="stylesheet" href="../../css/writeup.css">
</head>
<body>
    <!-- Navigation -->
    <nav>
        <div class="container">
            <a href="../../" class="logo">iHarzz</a>
            <ul>
                <li><a href="../../" class="nav-link">Home</a></li>
                <li><a href="../../blog/" class="nav-link">Blog</a></li>
                <li><a href="../../proyectos/" class="nav-link">Proyectos</a></li>
                <li><a href="../../retos/" class="nav-link">Retos</a></li>
            </ul>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h1 class="section-title">Dominando Active Directory: De la Enumeración al Domain Admin</h1>
            <p class="subtitle">Un análisis profundo sobre las fases críticas de un ataque a entornos Windows Domain</p>
        </div>
    </section>

    <main class="container">
        <article class="writeup-content">
            <section class="writeup-section">
                <h2>El Corazón de la Red Corporativa</h2>
                <p>En el mundo del pentesting interno, Active Directory (AD) es el objetivo definitivo. No se trata solo de comprometer una máquina, sino de entender las relaciones de confianza, las configuraciones de seguridad y los privilegios que mantienen unida a una organización.</p>
                <p>En este artículo, exploraremos cómo un atacante puede moverse desde un acceso inicial sin privilegios hasta el control total del dominio, utilizando técnicas que aprovechan el propio diseño de los protocolos de Windows.</p>
            </section>

            <section class="writeup-section">
                <h3>1. Enumeración Silenciosa</h3>
                <p>La primera fase es entender dónde estamos. Herramientas como <strong>BloodHound</strong> o <strong>CrackMapExec</strong> son esenciales aquí. El objetivo es identificar usuarios, grupos con altos privilegios (como "Domain Admins") y, lo más importante, qué usuarios tienen sesiones activas en máquinas vulnerables.</p>
                <div class="info-badge">Concepto Clave: Identificar el camino de menor resistencia.</div>
            </section>

            <section class="writeup-section">
                <h3>2. Ataques a Protocolos: Kerberos en el Punto de Mira</h3>
                <p>Uno de los métodos más efectivos para obtener credenciales sin interactuar directamente con el LSASS es el <strong>Kerberoasting</strong>. Este ataque permite solicitar un ticket de servicio para cualquier cuenta que tenga un Service Principal Name (SPN) configurado y luego intentar crackear el hash de forma offline.</p>
                <pre><code># Ejemplo con Impacket
GetUserSPNs.py domain.local/user:password -dc-ip 10.10.10.100 -request</code></pre>
            </section>

            <section class="writeup-section">
                <h3>3. Movimiento Lateral y Escalada</h3>
                <p>Una vez que obtenemos una credencial válida o un hash NTLM (Pass-the-Hash), buscamos máquinas donde nuestro usuario tenga permisos de administración local. El objetivo es volcar la memoria del proceso LSASS o buscar tokens de suplantación para convertirnos en un usuario con mayores privilegios.</p>
                <div class="note-box">
                    "La seguridad de Active Directory es tan fuerte como su eslabón más débil: una contraseña mal gestionada o un permiso excesivo en un grupo secundario."
                </div>
            </section>

            <section class="writeup-section">
                <h2>Conclusión y Mitigación</h2>
                <p>Para defendernos, es vital implementar el principio de <strong>Privilegio Mínimo</strong>, auditar regularmente los permisos de los grupos de administración y monitorizar comportamientos anómalos en el tráfico de Kerberos.</p>
                <p>Active Directory es complejo, y su seguridad requiere una vigilancia constante y una comprensión profunda de cómo interactúan sus componentes.</p>
            </section>
        </article>
    </main>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="social-links">
                <a href="https://github.com/DaviiddPR" target="_blank">GitHub</a>
                <a href="https://www.linkedin.com/in/david-poderoso-712407267/" target="_blank">LinkedIn</a>
            </div>
            <p class="footer-text">&copy; 2026 iHarzz | All rights reserved.</p>
        </div>
    </footer>

    <script src="../../js/script.js"></script>
</body>
</html>
